Система управления иконками в интерфейсе

Проблема:

В приложении сотни кнопок используют одинаковые иконки.
Без оптимизации каждая кнопка хранит свою копию изображения.
Это приводит к избыточному потреблению памяти.

Решение через паттерн Cache (Flyweight):

1. Легковесный объект - GraphicResource

Содержит неизменяемые bitmap-данные иконки. 
Представляет разделяемый графический ресурс.
Метод отрисовки принимает внешние параметры (координаты).

2. Фабрика с кешем - ResourceFactory

Централизованно управляет созданием ресурсов.
Хранит кеш созданных объектов по ключу (путь к файлу).
При запросе иконки сначала проверяет кеш.
Возвращает существующий объект или создает новый.

3. Клиент - Button

Получает иконки через фабрику, а не создает самостоятельно.
Хранит только ссылку на разделяемый ресурс.
Содержит уникальное внешнее состояние (координаты, текст).

Результат:

Множество кнопок используют один экземпляр иконки в памяти.
Избегается дублирование идентичных bitmap-объектов.
Сокращается время загрузки - дорогие ресурсы создаются единожды.
Достигается значительная экономия памяти и повышение производительности.